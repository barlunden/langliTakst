---
const ikonKart = import.meta.glob('../icons/*.svg', { eager: true, import: 'default' }) as Record<string, string>;

const { name, category, icon, Content } = Astro.props;

const iconKey = icon ? Object.keys(ikonKart).find(path => path.endsWith(`/${icon}`)) : null;
const iconSrc = iconKey ? ikonKart[iconKey] : null;
---
<article class="border rounded-lg w-5/6 mx-auto p-4 my-4 shadow-md">
  {iconSrc && <img src={iconSrc} alt={`${name} ikon`} class="w-8 h-8 mb-2" />}
  <h2 class="text-2xl font-bold mb-1">{name}</h2>
  <p class="italic mb-4">{category}</p>
  {Content && <Content />}
</article>
